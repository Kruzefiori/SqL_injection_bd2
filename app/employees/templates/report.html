<!doctype html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <title>Relatório de Vendas</title>
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
        />
    </head>
    <body class="bg-gray-100 py-10">
        <div class="max-w-6xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">
                Total de Vendas por período
            </h2>

            <table
                class="min-w-full bg-white border border-gray-300 rounded-lg shadow"
            >
                <thead class="bg-gray-200">
                    <tr>
                        <th class="px-4 py-2 text-left text-gray-700">ID</th>
                        <th class="px-4 py-2 text-left text-gray-700">Nome</th>
                        <th class="px-4 py-2 text-left text-gray-700">
                            Total de Vendas
                        </th>
                        <th class="px-4 py-2 text-left text-gray-700">
                            Nº de Vendas
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for emp in employees %}
                    <tr class="border-b hover:bg-gray-50">
                        <td class="px-4 py-2 text-gray-800">
                            {{ emp.employee_id }}
                        </td>
                        <td class="px-4 py-2 text-gray-800">
                            {{ emp.first_name }} {{ emp.last_name }}
                        </td>
                        <td class="px-4 py-2 text-gray-800">
                            R$ {{ '{:,.2f}'.format(emp.sales.total) }}
                        </td>
                        <td class="px-4 py-2 text-gray-800">
                            {{ emp.sales.count }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <div class="flex justify-between items-center mt-6">
                <div class="text-sm text-gray-700">
                    Página {{ current_page }} de {{ total_pages }}
                </div>
                <div class="space-x-2">
                    {% if current_page > 1 %}
                    <a
                        href="?start_date={{ start_date }}&end_date={{ end_date }}&page={{ current_page - 1 }}"
                        class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                        >Anterior</a
                    >
                    {% endif %} {% if current_page < total_pages %}
                    <a
                        href="?start_date={{ start_date }}&end_date={{ end_date }}&page={{ current_page + 1 }}"
                        class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
                        >Próximo</a
                    >
                    {% endif %}
                </div>
            </div>
        </div>
    </body>
</html>
